<!-- Navigation Component - nav.html -->
<nav class="navbar">
    <div class="container mx-auto px-6">
        <div class="flex justify-between items-center h-20">
            <!-- Logo -->
            <a href="index.html" class="navbar-brand">
                <div class="flex items-center space-x-3">
                    <div class="relative">
                        <img src="moveitmock.png" alt="Moveit Logo" width="50" height="40">
                        <div class="absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
                    </div>
                    <span class="text-2xl font-bold text-gray-900">Moveit Project</span>
                </div>
            </a>

            <!-- Desktop Navigation -->
            <div class="hidden lg:flex items-center space-x-8">
                <a href="#home" class="nav-link-new">Home</a>
                <div class="relative group">
                    <button class="nav-link-new">
                        Services <i class="fas fa-chevron-down ml-1 text-sm"></i>
                    </button>
                    <div class="dropdown-menu">
                        <a href="test.html" class="dropdown-item">
                            <div class="flex items-center space-x-3">
                                <i class="fas fa-home text-green-500"></i>
                                <div>
                                    <div class="font-medium">Local Moving</div>
                                    <div class="text-sm text-gray-500">Same city relocations</div>
                                </div>
                            </div>
                        </a>
                        <a href="test.html" class="dropdown-item">
                            <div class="flex items-center space-x-3">
                                <i class="fas fa-map-marked-alt text-green-500"></i>
                                <div>
                                    <div class="font-medium">Long Distance</div>
                                    <div class="text-sm text-gray-500">Interstate & cross-country</div>
                                </div>
                            </div>
                        </a>
                        <a href="test.html" class="dropdown-item">
                            <div class="flex items-center space-x-3">
                                <i class="fas fa-box text-green-500"></i>
                                <div>
                                    <div class="font-medium">Packing Services</div>
                                    <div class="text-sm text-gray-500">Professional packing & supplies</div>
                                </div>
                            </div>
                        </a>
                        <a href="test.html" class="dropdown-item">
                            <div class="flex items-center space-x-3">
                                <i class="fas fa-warehouse text-green-500"></i>
                                <div>
                                    <div class="font-medium">Storage Solutions</div>
                                    <div class="text-sm text-gray-500">Secure & climate-controlled</div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
                <a href="test.html" class="nav-link-new">About</a>
                <a href="#testimonials" class="nav-link-new">Reviews</a>
                <a href="test.html" class="nav-link-new">Contact</a>
            </div>

            <!-- Desktop CTA Section -->
            <div class="hidden lg:flex items-center space-x-4">
                <span class="text-sm font-medium text-gray-600">
                    <i class="fas fa-phone mr-2"></i>(555) 123-4567
                </span>
                <button class="cta-button">
                    Get Free Quote
                </button>
            </div>

            <!-- Mobile menu button (hidden when bottom nav is active) -->
            <button id="mobileMenuBtn" class="lg:hidden p-2">
                <i class="fas fa-bars text-xl text-gray-700"></i>
            </button>
        </div>
    </div>
</nav>

<!-- Mobile Bottom Navigation -->
<div class="mobile-bottom-nav lg:hidden">
    <div class="bottom-nav-grid">
        <!-- Home -->
        <a href="#home" class="bottom-nav-item active" data-page="home">
            <i class="fas fa-home"></i>
            <span>Home</span>
        </a>

        <!-- About -->
        <a href="test.html" class="bottom-nav-item" data-page="about">
            <i class="fas fa-info-circle"></i>
            <span>About</span>
        </a>

        <!-- Services (Center - Special Button) -->
        <button class="bottom-nav-item services-btn" id="servicesBtn">
            <i class="fas fa-truck"></i>
            <span>Services</span>
        </button>

        <!-- Reviews -->
        <a href="#testimonials" class="bottom-nav-item" data-page="reviews">
            <i class="fas fa-star"></i>
            <span>Reviews</span>
        </a>

        <!-- Contact -->
        <a href="test.html" class="bottom-nav-item" data-page="contact">
            <i class="fas fa-envelope"></i>
            <span>Contact</span>
        </a>
    </div>
</div>

<!-- Services Popup -->
<div class="services-backdrop" id="servicesBackdrop"></div>
<div class="services-popup" id="servicesPopup">
    <h3>Our Services</h3>
    <div class="services-grid">
        <a href="test.html" class="service-item">
            <i class="fas fa-home"></i>
            <span>Local Moving</span>
        </a>
        <a href="test.html" class="service-item">
            <i class="fas fa-map-marked-alt"></i>
            <span>Long Distance</span>
        </a>
        <a href="test.html" class="service-item">
            <i class="fas fa-box"></i>
            <span>Packing Services</span>
        </a>
        <a href="test.html" class="service-item">
            <i class="fas fa-warehouse"></i>
            <span>Storage</span>
        </a>
    </div>
</div>

<script>
    // Bottom Navigation JavaScript
    document.addEventListener('DOMContentLoaded', function() {
        // Bottom nav active states
        const bottomNavItems = document.querySelectorAll('.bottom-nav-item[data-page]');
        const servicesBtn = document.getElementById('servicesBtn');
        const servicesPopup = document.getElementById('servicesPopup');
        const servicesBackdrop = document.getElementById('servicesBackdrop');

        // Handle active states for bottom nav
        bottomNavItems.forEach(item => {
            item.addEventListener('click', function() {
                // Remove active from all items
                bottomNavItems.forEach(nav => nav.classList.remove('active'));
                // Add active to clicked item
                this.classList.add('active');
            });
        });

        // Services popup functionality
        if (servicesBtn && servicesPopup && servicesBackdrop) {
            servicesBtn.addEventListener('click', function(e) {
                e.preventDefault();
                servicesPopup.classList.toggle('show');
                servicesBackdrop.classList.toggle('show');
            });

            servicesBackdrop.addEventListener('click', function() {
                servicesPopup.classList.remove('show');
                servicesBackdrop.classList.remove('show');
            });

            // Close popup when clicking on service items
            const serviceItems = document.querySelectorAll('.service-item');
            serviceItems.forEach(item => {
                item.addEventListener('click', function() {
                    servicesPopup.classList.remove('show');
                    servicesBackdrop.classList.remove('show');
                });
            });
        }

        // Auto-highlight nav based on scroll position
        function updateActiveNav() {
            const sections = document.querySelectorAll('section[id]');
            const scrollPos = window.scrollY + 100;

            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                const sectionId = section.getAttribute('id');

                if (scrollPos >= sectionTop && scrollPos < sectionTop + sectionHeight) {
                    bottomNavItems.forEach(nav => nav.classList.remove('active'));
                    const activeNav = document.querySelector(`[data-page="${sectionId}"]`) ||
                        document.querySelector(`[href="#${sectionId}"]`);
                    if (activeNav) {
                        activeNav.classList.add('active');
                    }
                }
            });
        }

        // Throttled scroll listener
        let ticking = false;
        window.addEventListener('scroll', function() {
            if (!ticking) {
                requestAnimationFrame(function() {
                    updateActiveNav();
                    ticking = false;
                });
                ticking = true;
            }
        });
    });
</script>
</nav>